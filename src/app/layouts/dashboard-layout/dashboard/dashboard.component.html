<section>
  <div class="mt-28 flex flex-col gap-5 px-4 sm:ml-80 md:p-10">
    <div class="text-center sm:text-start" *ngIf="user">
      <h1 class="pb-2 text-sm sm:text-lg md:text-2xl">
        <span class="block pb-2 sm:inline">Bienvenue,</span>
        <span class="mx-auto block text-center sm:mx-0 sm:inline">
          {{ user.firstName }} !</span
        >
      </h1>
      <p class="text-base text-gray-300 sm:text-lg md:text-xl">
        Vous Ãªtes dans votre espace personnel
      </p>
    </div>

    <div class="grid grid-cols-1 gap-5 lg:grid-cols-2">
  
      <!-- Ã€ gauche : Recharges et Borne -->
      <div class="flex flex-col gap-8">
        
        <!-- Prochaine recharge en cours -->
        <div class="rounded-2xl bg-gray-50 p-5 shadow-xl mt-10">
          <h2 class="flex items-center gap-2 text-green-700 text-xl font-medium sm:text-2xl md:text-3xl mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            Prochaine recharge en cours
          </h2>
          <ng-container *ngIf="nextBooking; else noBooking">
            <p class="mb-2 font-semibold">{{ nextBooking.stationDetails?.nameStation }}</p>
            <p class="text-gray-600">
              {{ nextBooking.startDate | date: 'shortDate' }} â€” {{ nextBooking.startDate | date: 'shortTime' }} Ã  {{ nextBooking.endDate | date: 'shortTime' }}
            </p>
          </ng-container>
          <ng-template #noBooking>
            <p class="text-gray-500 italic">Aucune recharge Ã  venir.</p>
          </ng-template>
          <a href="/mes-recharges" class="mt-4 inline-block text-sm text-blue-600 hover:underline">
            Voir toutes mes recharges
          </a>
        </div>
    
        <!-- Borne en location principale -->
        <div class="rounded-2xl bg-gray-50 p-5 shadow-xl">
          <h2 class="flex items-center gap-2 text-blue-700 mb-4 text-xl font-medium sm:text-2xl md:text-3xl">
            ðŸ”Œ Borne en location principale
          </h2>
          <ng-container *ngIf="mainStation; else noStation">
            <p class="mb-2 font-semibold">{{ mainStation.nameStation }}</p>
            <p class="text-gray-600">Type de prise : {{ mainStation.plugType || 'Non spÃ©cifiÃ©' }}</p>
            <p class="text-gray-600">Puissance : {{ mainStation.power || '0' }} kW</p>
          </ng-container>
          <ng-template #noStation>
            <p class="text-gray-500 italic">Aucune borne en location principale.</p>
          </ng-template>
          <a href="/mes-bornes" class="mt-4 inline-block text-sm text-blue-600 hover:underline">
            Voir toutes mes bornes
          </a>
        </div>
      
      </div>
    
      <!-- Bloc contenant le titre ET la carte -->
<div class="order-1 lg:order-none flex flex-col gap-3">
  <!-- TITRE -->
  <h2 class="text-indigo-800 text-center text-xl font-medium sm:text-2xl md:text-3xl">
    Bornes disponibles autour de vous
  </h2>

  <!-- MAP -->
  <div
    id="map"
    #mapElement
    class="h-[300px] md:h-[400px] lg:h-full w-full rounded-2xl shadow-lg"
  ></div>
</div>
    
    </div>
    


  </div>
</section>
